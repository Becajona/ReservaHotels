<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Reservaciones</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center">Sistema de Gestión de Reservaciones</h1>
        
        <!-- Formulario de búsqueda -->
        <div class="card mt-4">
            <div class="card-header">
                <h4>Buscar Habitaciones</h4>
            </div>
            <div class="card-body">
                <form id="searchForm">
                    <div class="form-row">
                        <div class="form-group col-md-4">
                            <label for="fechaInicio">Fecha de Llegada</label>
                            <input type="date" class="form-control" id="fechaInicio" required>
                        </div>
                        <div class="form-group col-md-4">
                            <label for="fechaFin">Fecha de Salida</label>
                            <input type="date" class="form-control" id="fechaFin" required>
                        </div>
                        <div class="form-group col-md-4">
                            <label for="tipoHabitacion">Tipo de Habitación</label>
                            <select id="tipoHabitacion" class="form-control">
                                <option value="">Seleccione...</option>
                                <option value="individual">Individual</option>
                                <option value="doble">Doble</option>
                                <option value="suite">Suite</option>
       
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-4">
                            <label for="rangoPrecio">Rango de Precio</label>
                            <input type="number" class="form-control" id="minPrecio" placeholder="Mínimo">
                            <input type="number" class="form-control mt-2" id="maxPrecio" placeholder="Máximo">
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">Buscar</button>
                </form>
            </div>
        </div>





        <h2>Buscar Habitaciones</h2>
<form (ngSubmit)="buscarHabitaciones()">
  <div>
    <label for="fechaEntrada">Fecha de Entrada:</label>
    <input type="date" id="fechaEntrada" [(ngModel)]="fechaEntrada" name="fechaEntrada" required>
  </div>
  <div>
    <label for="fechaSalida">Fecha de Salida:</label>
    <input type="date" id="fechaSalida" [(ngModel)]="fechaSalida" name="fechaSalida" required>
  </div>
  <div>
    <label for="capacidad">Capacidad:</label>
    <input type="number" id="capacidad" [(ngModel)]="capacidad" name="capacidad" required>
  </div>
  <button type="submit">Buscar</button>
</form>

        

        <br>
        <br>
        <br>
        <br>
        <br>


        <form #habitacionForm="ngForm" (ngSubmit)="onSubmitHabitacionForm(habitacionForm)">
          <div>
            <label for="numero_habitacion">Número de Habitación:</label>
            <input type="text" id="numero_habitacion" name="numero_habitacion" [(ngModel)]="habitacion.numero_habitacion" required>
          </div>
          <div>
            <label for="tipo_habitacion">Tipo de Habitación:</label>
            <input type="text" id="tipo_habitacion" name="tipo_habitacion" [(ngModel)]="habitacion.tipo_habitacion" required>
          </div>
          <div>
            <label for="precio_noche">Precio por Noche:</label>
            <input type="number" id="precio_noche" name="precio_noche" [(ngModel)]="habitacion.precio_noche" required>
          </div>
          <div>
            <label for="capacidad">Capacidad:</label>
            <input type="number" id="capacidad" name="capacidad" [(ngModel)]="habitacion.capacidad" required>
          </div>
          <div>
            <label for="sucursal_id">ID de Sucursal:</label>
            <input type="text" id="sucursal_id" name="sucursal_id" [(ngModel)]="habitacion.sucursal_id" required>
          </div>
          <div>
            <label for="estado">Estado:</label>
            <select id="estado" name="estado" [(ngModel)]="habitacion.estado" required>
              <option value="disponible">Disponible</option>
              <option value="reservada">Reservada</option>
              <option value="en limpieza">En Limpieza</option>
            </select>
          </div>
          <div>
            <label for="fecha_disponible">Fecha Disponible:</label>
            <input type="datetime-local" id="fecha_disponible" name="fecha_disponible" [(ngModel)]="habitacion.fecha_disponible" required>
          </div>
          <div>
            <label for="comodidades">Comodidades (separadas por coma):</label>
            <input type="text" id="comodidades" name="comodidades" [(ngModel)]="habitacion.comodidades">
          </div>
          
          <button type="submit">Agregar Habitación</button>
        </form>
        
        <div id="mensaje"></div>
        

        <br>
        <br>
        
        <!-- Mostrar las habitaciones disponibles -->
         <!-- habitaciones.component.html -->
<h2>Habitaciones Disponibles</h2>
<div *ngIf="habitacionesDisponibles.length > 0; else noHabitaciones">
  <div *ngFor="let habitacion of habitacionesDisponibles">
    <h3>Número de Habitación: {{ habitacion.numero_habitacion }}</h3>
    <p>Tipo de Habitación: {{ habitacion.tipo_habitacion }}</p>
    <p>Precio por Noche: {{ habitacion.precio_noche }}</p>
    <p>Capacidad: {{ habitacion.capacidad }}</p>
    <p>ID de Sucursal: {{ habitacion.sucursal_id }}</p>
    <p>Estado: {{ habitacion.estado }}</p>
    <p>Fecha Disponible: {{ habitacion.fecha_disponible | date:'short' }}</p>
    <p>Comodidades: {{ habitacion.comodidades }}</p>

  </div>
</div>
<ng-template #noHabitaciones>
  <p>No hay habitaciones disponibles en este momento.</p>
</ng-template>




<br>
<br>
<br>


        <br>
        

        <br>



        
    </div>



    <br>
    <br>
    <br>

    
    <!-- Formulario de Reservación -->
<div id="reservacionForm" class="card mt-4">
    <div class="card-header">
      <h4>Completar Reservación</h4>
    </div>
    <div class="card-body">

      <form #reservarHabitacionForm="ngForm" (ngSubmit)="onSubmitReservacionForm(reservarHabitacionForm)">
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="nombreCliente">Nombre</label>
            <input type="text" class="form-control" id="nombreCliente" name="nombreCliente" [(ngModel)]="reservacion.nombreCliente" required>
          </div>
          <div class="form-group col-md-6">
            <label for="correoCliente">Correo Electrónico</label>
            <input type="email" class="form-control" id="correoCliente" name="correoCliente" [(ngModel)]="reservacion.correoCliente" required>
          </div>
        </div>
        <div class="form-group">
          <label for="telefonoCliente">Teléfono</label>
          <input type="tel" class="form-control" id="telefonoCliente" name="telefonoCliente" [(ngModel)]="reservacion.telefonoCliente" required>
        </div>
        <button type="submit" class="btn btn-success" [disabled]="!reservarHabitacionForm.valid">Reservar</button>
      </form>
    </div>
  </div>



  <br>
  <br>
  <br>

<br>
<br>
<br>


<!-- Panel de Usuario -->
<div id="panelUsuario" class="mt-4">
    <h4>Mis Reservas</h4>
    <table class="table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Nombre Cliente</th>
          <th>Correo Electrónico</th>
          <th>Teléfono</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let reserva of reservas">
          <td>{{ reserva.id }}</td>
          <td>{{ reserva.nombreCliente }}</td>
          <td>{{ reserva.correoCliente }}</td>
          <td>{{ reserva.telefonoCliente }}</td>
          <td>
            <button class="btn btn-danger" (click)="eliminarReserva(reserva.id)">Eliminar</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  



    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
